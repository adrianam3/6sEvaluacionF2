<div class="card my-5">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-end mb-4">
      <h3 class="mb-0">
        {{ titulo }}
      </h3>
    </div>
    <form [formGroup]="frm_Asignacion" (ngSubmit)="grabar()">
      <div class="row">
        <div class="form-group mb-3">
          <label class="form-label" for="nino">Ni침o</label>
          <select class="form-control" formControlName="nino_id" id="nino">
            @for (nino of listaNinos; track $index) {
              <option [value]="nino.nino_id">{{ nino.nombre }} {{ nino.apellido }} &nbsp;&nbsp; - &nbsp;&nbsp; {{ nino.alergias }}</option>
            }
          </select>

          @if (frm_Asignacion.get('nino_id').invalid && frm_Asignacion.get('nino_id').touched) {
            @if (frm_Asignacion.get('nino_id').hasError('required')) {
              <div>
                <small style="color: red">Debe seleccionar un ni침o</small>
              </div>
            }
          }
        </div>

        <div class="form-group mb-3">
          <label class="form-label" for="cuidador">Cuidador</label>
          <select class="form-control" formControlName="cuidador_id" id="cuidador">
            @for (cuidador of listaCuidadores; track $index) {
              <option [value]="cuidador.cuidador_id">{{ cuidador.nombre }} &nbsp;&nbsp; - &nbsp;&nbsp; {{ cuidador.especialidad }}</option>
            }
          </select>

          @if (frm_Asignacion.get('cuidador_id').invalid && frm_Asignacion.get('cuidador_id').touched) {
            @if (frm_Asignacion.get('cuidador_id').hasError('required')) {
              <div>
                <small style="color: red">Debe seleccionar un cuidador</small>
              </div>
            }
          }
        </div>

        <div class="form-group mb-3">
          <label class="form-label" for="fecha_asignacion">Fecha de Asignaci칩n</label>
          <input formControlName="fecha_asignacion" type="date" class="form-control" id="fecha_asignacion" />

          @if (frm_Asignacion.get('fecha_asignacion').invalid && frm_Asignacion.get('fecha_asignacion').touched) {
            @if (frm_Asignacion.get('fecha_asignacion').hasError('required')) {
              <div>
                <small style="color: red">La Fecha de Asignaci칩n es requerida</small>
              </div>
            }
          }
        </div>


        <div class="form-group mb-3">
          <label class="form-label" for="estado">Estado</label>
          <select class="form-control" formControlName="estado" id="estado">
            <option value="1">Activo</option>
            <option value="0">Inactivo</option>
          </select>

          @if (frm_Asignacion.get('estado').invalid && frm_Asignacion.get('estado').touched) {
            @if (frm_Asignacion.get('estado').hasError('required')) {
              <div>
                <small style="color: red">El Estado es requerido</small>
              </div>
            }
          }
        </div>


        <div class="d-grid mt-3">
          <button type="submit" class="btn btn-primary" [disabled]="frm_Asignacion.invalid">Grabar</button>
        </div>
      </div>
    </form>
  </div>
</div>
